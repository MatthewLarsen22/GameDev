'use strict';

MyGame.utilities.transposeMatrix4x4 = function(m){
    let t = [
        m[0], m[4], m[8], m[12],
        m[1], m[5], m[9], m[13],
        m[2], m[6], m[10], m[14],
        m[3], m[7], m[11], m[15]
    ];
    return t;
};

MyGame.utilities.multiply4x4matrices = function(m, n) {
    let result = [
        m[0] * n[0] + m[1] * n[4] + m[2] * n[8] + m[3] * n[12], m[0] * n[1] + m[1] * n[5] + m[2] * n[9] + m[3] * n[13], m[0] * n[2] + m[1] * n[6] + m[2] * n[10] + m[3] * n[14], m[0] * n[3] + m[1] * n[7] + m[2] * n[11] + m[3] * n[15],
        m[4] * n[0] + m[5] * n[4] + m[6] * n[8] + m[7] * n[12], m[4] * n[1] + m[5] * n[5] + m[6] * n[9] + m[7] * n[13], m[4] * n[2] + m[5] * n[6] + m[6] * n[10] + m[7] * n[14], m[4] * n[3] + m[5] * n[7] + m[6] * n[11] + m[7] * n[15],
        m[8] * n[0] + m[9] * n[4] + m[10] * n[8] + m[11] * n[12], m[8] * n[1] + m[9] * n[5] + m[10] * n[9] + m[11] * n[13], m[8] * n[2] + m[9] * n[6] + m[10] * n[10] + m[11] * n[14], m[8] * n[3] + m[9] * n[7] + m[10] * n[11] + m[11] * n[15],
        m[12] * n[0] + m[13] * n[4] + m[14] * n[8] + m[15] * n[12], m[12] * n[1] + m[13] * n[5] + m[14] * n[9] + m[15] * n[13], m[12] * n[2] + m[13] * n[6] + m[14] * n[10] + m[15] * n[14], m[12] * n[3] + m[13] * n[7] + m[14] * n[11] + m[15] * n[15]
    ];
    return result;
};